"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[91],{5130:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"transform","title":"Transform","description":"Transform sau khi validate","source":"@site/docs/transform.md","sourceDirName":".","slug":"/transform","permalink":"/zod/transform","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Custom schema","permalink":"/zod/defining-schemas/custom-schema"},"next":{"title":"Custom validation","permalink":"/zod/custom-validation"}}');var s=r(4848),t=r(8453);const i={sidebar_position:3},o="Transform",l={},c=[{value:"Transform sau khi validate",id:"transform-sau-khi-validate",level:2},{value:"Transform tr\u01b0\u1edbc khi validate",id:"transform-tr\u01b0\u1edbc-khi-validate",level:2}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"transform",children:"Transform"})}),"\n",(0,s.jsx)(e.h2,{id:"transform-sau-khi-validate",children:"Transform sau khi validate"}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Trong Zod, ph\u01b0\u01a1ng th\u1ee9c ",(0,s.jsx)(e.code,{children:".transform()"})," \u0111\u1ec3 bi\u1ebfn \u0111\u1ed5i d\u1eef li\u1ec7u ",(0,s.jsx)(e.strong,{children:"SAU KHI"})," \u0111\u01b0\u1ee3c validate"]}),"\n"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const emailToDomain = z.email().transform((val) => val.split("@")[1]);\n\nemailToDomain.parse("colinhacks@example.com"); // => example.com\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["C\u1ea3 2 ph\u01b0\u01a1ng th\u1ee9c ",(0,s.jsx)(e.code,{children:".transform()"})," v\xe0 ",(0,s.jsx)(e.code,{children:".refine()"})," c\xf3 th\u1ec3 k\u1ebft h\u1ee3p xen k\u1ebd nhau. N\xf3 s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n theo th\u1ee9 t\u1ef1 \u0111\u01b0\u1ee3c khai b\xe1o, v\xed d\u1ee5:"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const nameToGreeting = z\n  .string()\n  .transform((val) => val.toUpperCase())\n  .refine((val) => val.length > 15)\n  .transform((val) => `Hello ${val}`)\n  .refine((val) => val.indexOf("!") === -1);\n'})}),"\n",(0,s.jsx)(e.h2,{id:"transform-tr\u01b0\u1edbc-khi-validate",children:"Transform tr\u01b0\u1edbc khi validate"}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u0110\u1ec3 bi\u1ebfn \u0111\u1ed5i d\u1eef li\u1ec7u tr\u01b0\u1edbc khi validate, ta s\u1eed d\u1ee5ng ",(0,s.jsx)(e.code,{children:".preprocess()"}),"."]}),"\n"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'import * as z from "zod";\n\nconst fullNameSchema = z.preprocess((val) => {\n  if (typeof val === "string") {\n    return val.trim();\n  }\n  return val;\n}, z.string().min(1, "Full name is required").max(15, "Full name must be at most 15 characters"));\n\nconsole.log(fullNameSchema.safeParse("  John Doe               "));\n/*\n{\n  success: true,\n  data: "John Doe",\n}\n*/\n'})})]})}function m(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>o});var a=r(6540);const s={},t=a.createContext(s);function i(n){const e=a.useContext(t);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),a.createElement(t.Provider,{value:e},n.children)}}}]);