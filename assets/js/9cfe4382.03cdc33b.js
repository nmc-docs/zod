"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[649],{7137:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"defining-schemas/string","title":"String","description":"- Zod cung c\u1ea5p m\u1ed9t s\u1ed1 API x\xe1c th\u1ef1c v\xe0 chuy\u1ec3n \u0111\u1ed5i string t\xedch h\u1ee3p s\u1eb5n. \u0110\u1ec3 th\u1ef1c hi\u1ec7n m\u1ed9t s\u1ed1 x\xe1c th\u1ef1c chu\u1ed7i ph\u1ed5 bi\u1ebfn:","source":"@site/docs/defining-schemas/string.md","sourceDirName":"defining-schemas","slug":"/defining-schemas/string","permalink":"/zod/defining-schemas/string","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Literals","permalink":"/zod/defining-schemas/literals"},"next":{"title":"Number","permalink":"/zod/defining-schemas/number"}}');var t=s(4848),a=s(8453);const r={sidebar_position:5},l="String",c={},d=[{value:"Transformation",id:"transformation",level:2},{value:"String formats",id:"string-formats",level:2},{value:"Emails",id:"emails",level:3},{value:"UUIDs",id:"uuids",level:3},{value:"URLs",id:"urls",level:3},{value:"ISO datetimes",id:"iso-datetimes",level:3},{value:"ISO dates",id:"iso-dates",level:3},{value:"ISO times",id:"iso-times",level:3},{value:"IP addresses",id:"ip-addresses",level:3},{value:"IP blocks (CIDR)",id:"ip-blocks-cidr",level:3},{value:"JWT",id:"jwt",level:3},{value:"Custom formats",id:"custom-formats",level:3}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"string",children:"String"})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Zod cung c\u1ea5p m\u1ed9t s\u1ed1 API x\xe1c th\u1ef1c v\xe0 chuy\u1ec3n \u0111\u1ed5i string t\xedch h\u1ee3p s\u1eb5n. \u0110\u1ec3 th\u1ef1c hi\u1ec7n m\u1ed9t s\u1ed1 x\xe1c th\u1ef1c chu\u1ed7i ph\u1ed5 bi\u1ebfn:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'z.string().max(5);\nz.string().min(5);\nz.string().length(5);\nz.string().regex(/^[a-z]+$/);\nz.string().startsWith("aaa");\nz.string().endsWith("zzz");\nz.string().includes("---");\nz.string().uppercase();\nz.string().lowercase();\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"transformation",children:"Transformation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 nh\u1eefng ph\u01b0\u01a1ng th\u1ee9c \u0111\u1ec3 bi\u1ebfn \u0111\u1ed5i chu\u1ed7i ",(0,t.jsx)(n.strong,{children:"TR\u01af\u1edaC KHI"})," validate:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"z.string().trim(); // trim whitespace\nz.string().toLowerCase(); // toLowerCase\nz.string().toUpperCase(); // toUpperCase\nz.string().normalize(); // normalize unicode characters\n"})}),"\n",(0,t.jsx)(n.h2,{id:"string-formats",children:"String formats"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Zod cung c\u1ea5p cho ta c\xe1c ph\u01b0\u01a1ng th\u1ee9c \u0111\u1ec3 x\xe1c th\u1ef1c v\u1edbi m\u1ed9t s\u1ed1 \u0111\u1ecbnh d\u1ea1ng chu\u1ed7i ph\u1ed5 bi\u1ebfn:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'z.email();\nz.uuid();\nz.url();\nz.httpUrl(); // http or https URLs only\nz.hostname();\nz.emoji(); // validates a single emoji character\nz.base64();\nz.base64url();\nz.hex();\nz.jwt();\nz.nanoid();\nz.cuid();\nz.cuid2();\nz.ulid();\nz.ipv4();\nz.ipv6();\nz.cidrv4(); // ipv4 CIDR block\nz.cidrv6(); // ipv6 CIDR block\nz.hash("sha256"); // or "sha1", "sha384", "sha512", "md5"\nz.iso.date();\nz.iso.time();\nz.iso.datetime();\nz.iso.duration();\n'})})]}),"\n",(0,t.jsx)(n.h3,{id:"emails",children:"Emails"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate 1 string c\xf3 ph\u1ea3i l\xe0 m\u1ed9t email:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"z.email();\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ta c\u0169ng c\xf3 th\u1ec3 s\u1eed d\u1ee5ng custom regex pattern cho email do ta t\u1ef1 \u0111\u1ecbnh ngh\u0129a:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"z.email({ pattern: /your regex here/ });\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Zod c\u0169ng cung c\u1ea5p cho ta m\u1ed9t s\u1ed1 pattern ph\u1ed5 bi\u1ebfn:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Zod's default email regex\nz.email();\nz.email({ pattern: z.regexes.email }); // equivalent\n\n// the regex used by browsers to validate input[type=email] fields\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email\nz.email({ pattern: z.regexes.html5Email });\n\n// the classic emailregex.com regex (RFC 5322)\nz.email({ pattern: z.regexes.rfc5322Email });\n\n// a loose regex that allows Unicode (good for intl emails)\nz.email({ pattern: z.regexes.unicodeEmail });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"uuids",children:"UUIDs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate 1 chu\u1ed7i c\xf3 ph\u1ea3i l\xe0 UUID:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"z.uuid();\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ta c\xf3 th\u1ec3 ch\u1ec9 \u0111\u1ecbnh version c\u1ee5 th\u1ec3 cho UUID:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'// supports "v1", "v2", "v3", "v4", "v5", "v6", "v7", "v8"\nz.uuid({ version: "v4" });\n\n// for convenience\nz.uuidv4();\nz.uuidv6();\nz.uuidv7();\n'})}),"\n",(0,t.jsx)(n.h3,{id:"urls",children:"URLs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate 1 chu\u1ed7i c\xf3 ph\u1ea3i l\xe0 1 URL h\u1ee3p l\u1ec7 hay kh\xf4ng:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const schema = z.url();\n\nschema.parse("https://example.com"); // \u2705\nschema.parse("http://localhost"); // \u2705\nschema.parse("mailto:noreply@zod.dev"); // \u2705\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate URL theo regex c\u1ee7a hostname, ta l\xe0m nh\u01b0 sau:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const schema = z.url({ hostname: /^example\\.com$/ });\n\nschema.parse("https://example.com"); // \u2705\nschema.parse("https://zombo.com"); // \u274c\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"T\u01b0\u01a1ng t\u1ef1, ta c\u0169ng c\xf3 th\u1ec3 validate protocol theo regex:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const schema = z.url({ protocol: /^https$/ });\n\nschema.parse("https://example.com"); // \u2705\nschema.parse("http://example.com"); // \u274c\n'})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate Web URL, ta c\xf3 th\u1ec3 d\xf9ng nh\u01b0 sau:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const httpUrl = z.url({\n  protocol: /^https?$/,\n  hostname: z.regexes.domain,\n});\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"iso-datetimes",children:"ISO datetimes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ec3 validate 1 string c\xf3 d\u1ea1ng ISO datetimes hay kh\xf4ng:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const datetime = z.iso.datetime();\n\ndatetime.parse("2020-01-01T06:15:00Z"); // \u2705\ndatetime.parse("2020-01-01T06:15:00.123Z"); // \u2705\ndatetime.parse("2020-01-01T06:15:00.123456Z"); // \u2705 (arbitrary precision)\ndatetime.parse("2020-01-01T06:15:00+02:00"); // \u274c (offsets not allowed)\ndatetime.parse("2020-01-01T06:15:00"); // \u274c (local not allowed)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"iso-dates",children:"ISO dates"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ph\u01b0\u01a1ng th\u1ee9c ",(0,t.jsx)(n.code,{children:"z.iso.date()"})," x\xe1c th\u1ef1c chu\u1ed7i theo \u0111\u1ecbnh d\u1ea1ng ",(0,t.jsx)(n.code,{children:"YYYY-MM-DD"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const date = z.iso.date();\n\ndate.parse("2020-01-01"); // \u2705\ndate.parse("2020-1-1"); // \u274c\ndate.parse("2020-01-32"); // \u274c\n'})}),"\n",(0,t.jsx)(n.h3,{id:"iso-times",children:"ISO times"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ph\u01b0\u01a1ng th\u1ee9c ",(0,t.jsx)(n.code,{children:"z.iso.time()"})," x\xe1c th\u1ef1c chu\u1ed7i theo \u0111\u1ecbnh d\u1ea1ng ",(0,t.jsx)(n.code,{children:"HH:MM[:SS[.s+]]"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const time = z.iso.time();\n\ntime.parse("03:15"); // \u2705\ntime.parse("03:15:00"); // \u2705\ntime.parse("03:15:00.9999999"); // \u2705 (arbitrary precision)\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'time.parse("03:15:00Z"); // \u274c (no `Z` allowed)\ntime.parse("03:15:00+02:00"); // \u274c (no offsets allowed)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"ip-addresses",children:"IP addresses"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const ipv4 = z.ipv4();\nipv4.parse("192.168.0.0"); // \u2705\n\nconst ipv6 = z.ipv6();\nipv6.parse("2001:db8:85a3::8a2e:370:7334"); // \u2705\n'})}),"\n",(0,t.jsx)(n.h3,{id:"ip-blocks-cidr",children:"IP blocks (CIDR)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const cidrv4 = z.string().cidrv4();\ncidrv4.parse("192.168.0.0/24"); // \u2705\n\nconst cidrv6 = z.string().cidrv6();\ncidrv6.parse("2001:db8::/32"); // \u2705\n'})}),"\n",(0,t.jsx)(n.h3,{id:"jwt",children:"JWT"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'z.jwt();\nz.jwt({ alg: "HS256" });\n'})}),"\n",(0,t.jsx)(n.h3,{id:"custom-formats",children:"Custom formats"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u0110\u1ec3 c\xf3 th\u1ec3 t\u1ef1 \u0111\u1ecbnh ngh\u0129a validate cho string, ta d\xf9ng ",(0,t.jsx)(n.code,{children:"z.stringFormat()"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const coolId = z.stringFormat("cool-id", () => {\n  // arbitrary validation here\n  return val.length === 100 && val.startsWith("cool-");\n});\n\n// a regex is also accepted\nz.stringFormat("cool-id", /^cool-[a-z0-9]{95}$/);\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'myFormat.parse("invalid input!");\n// ZodError: [\n//   {\n//     "code": "invalid_format",\n//     "format": "cool-id",\n//     "path": [],\n//     "message": "Invalid cool-id"\n//   }\n// ]\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);